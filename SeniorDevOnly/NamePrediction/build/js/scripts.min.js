"use strict";!function(){function e(e){var t=e.results.map(function(e){return e.name});t=(t=(t=n(t)).sort()).map(function(e){return e.toLocaleLowerCase()}),localStorage.pokemonsNames=JSON.stringify(t)}function t(){var e=document.createElement("p");e.innerHTML="Sorry, service is unavailable. No pokemons' names for the prediction is at the moment.",e.className="sorry";var t=document.getElementsByClassName("container")[0],n=document.getElementsByClassName("form")[0];t.insertBefore(e,n)}function n(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}function o(e){if(0!==e.length){for(var t=0,n=[],o=0;o<c.length;o++){for(var s=0,r=0;r<e.length;r++)c[o][r]===e[r]&&s++;if(s===e.length&&(n[t]=c[o],t++),5===t)break}l(n)}else a()}function a(){document.getElementById("autocomplete").innerHTML=""}function l(e){a();for(var t=document.getElementById("autocomplete"),n=0;n<e.length;n++){var o=document.createElement("option");o.innerHTML=e[n],o.value=e[n],o.className="option",t.appendChild(o)}}function s(e){var t=document.getElementById("autocomplete").getElementsByTagName("option"),n=-1;switch(e.keyCode){case 40:n=-1;for(var o=0;o<t.length;o++)o in t&&"selected"===t[o].className&&(t[o].className="non-selected",n=o);n++;for(var a=0;a<t.length;a++)a in t&&a===n&&(t[a].className="selected");break;case 38:n=t.length;for(var l=0;l<t.length;l++)l in t&&"selected"===t[l].className&&(t[l].className="non-selected",n=l);n--;for(var s=0;s<t.length;s++)s in t&&s===n&&(t[s].className="selected");break;case 13:for(var r=0;r<t.length;r++)r in t&&"selected"==t[r].className&&(m.value=t[r].innerHTML,document.getElementById("autocomplete").innerHTML="")}}function r(){var e=document.getElementById("autocomplete").selectedIndex;m.value=i[e].innerHTML,document.getElementById("autocomplete").innerHTML=""}null===localStorage.getItem("pokemonsNames")&&function(){function n(n){4==this.readyState&&(200==this.status?e(JSON.parse(o.responseText)):t())}var o=new XMLHttpRequest;o.open("GET","http://www.pokeapi.co/api/v2/pokemon/?limit=811",!0),o.onreadystatechange=n,o.send()}();var c=localStorage.pokemonsNames?JSON.parse(localStorage.pokemonsNames):[],m=document.getElementById("input");m.oninput=function(){o(m.value.toLowerCase())},m.addEventListener("keyup",s),document.getElementById("autocomplete").addEventListener("click",r);var i=document.getElementById("autocomplete").getElementsByTagName("option")}();